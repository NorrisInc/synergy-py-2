import io

def main():
    print("Урок 8.3 - Списки: лодки и рыбаки")
    print("=" * 50)
    try:
        # Читаем максимальный вес лодки
        m = int(input("Максимальный вес лодки: "))
        
        if (1 > m > 10**6):
            print(f"Ошибка: вес лодки от 1 до {10**6}")
            input("Нажмите Enter для продолжения...")
            return
        # Читаем количество рыбаков
        n = int(input("Количество рыбаков: "))
        if (1 > n > 100):
            print(f"Ошибка: количество рыбаков от 1 до {100}")
            input("Нажмите Enter для продолжения...")
            return

        # Создаем список для весов рыбаков
        weights = []

        # Читаем вес каждого рыбака
        for i in range(n):
            weight = int(input(f"Вес рыбака № {i + 1}: "))
            if (1 > weight > m):
                print(f"Ошибка: вес рыбака от 1 до {m}")
                input("Нажмите Enter для продолжения...")
                return
            weights.append(weight)

        # Сортируем веса по возрастанию
        weights.sort()

        # Считаем лодки
        boats = 0

        # Два указателя: самый легкий и самый тяжелый
        left = 0  # индекс самого легкого
        right = n - 1  # индекс самого тяжелого

        # Пока есть рыбаки, которых не посадили в лодки
        while left <= right:
            # Если остался только один рыбак
            if left == right:
                boats += 1  # он плывет один
                break
            
            # Пробуем посадить самого тяжелого и самого легкого вместе
            if weights[left] + weights[right] <= m:
                # Если помещаются, сажаем их вместе
                left += 1    # легкий уплыл
                right -= 1   # тяжелый уплыл
                boats += 1   # одна лодка
            else:
                # Если не помещаются, тяжелый плывет один
                right -= 1   # тяжелый уплыл один
                boats += 1   # одна лодка

        # Выводим ответ
        print(f"Нужно лодок: {boats}")
    except ValueError:
        print("Ошибка: нужно вводить только числа")
    input("\nНажмите Enter для продолжения...")

if __name__ == "__main__":
    main()
