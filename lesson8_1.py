import io

def main():
    print("–£—Ä–æ–∫ 8.1 - –°–ø–∏—Å–∫–∏: –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç –º–∞—Å—Å–∏–≤–∞")
    print("=" * 50)
    
    try:
        # –í–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∏—Å–µ–ª
        N = int(input("–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª N: "))
        
        if N < 1 or N > 10000:
            print(f"–û—à–∏–±–∫–∞: N –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 10000 (–≤–≤–µ–¥–µ–Ω–æ {N})")
            input("–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
            return
        
        print(f"\n–ë—É–¥–µ—Ç –≤–≤–µ–¥–µ–Ω–æ {N} —á–∏—Å–µ–ª")
        print(f"üìè –ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ –ø–æ –º–æ–¥—É–ª—é ‚â§ {10**5}")
        print("-" * 30)
        
        # –í–≤–æ–¥ —á–∏—Å–µ–ª
        numbers = []
        for i in range(N):
            try:
                num = int(input(f"–ß–∏—Å–ª–æ {i+1}/{N}: "))
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –º–æ–¥—É–ª—é
                if abs(num) > 10**5:
                    print(f" –í–Ω–∏–º–∞–Ω–∏–µ: —á–∏—Å–ª–æ {num} –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 10^5")
                
                numbers.append(num)
            except ValueError:
                print("–û—à–∏–±–∫–∞: –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")
                input("–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
                return
        
        print(f"\n–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ ({len(numbers)} —á–∏—Å–µ–ª):")
        print(f"   {numbers}")
        
        # –ü–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –º–∞—Å—Å–∏–≤
        reversed_numbers = numbers[::-1]
        
        print(f"\n–†–ï–ó–£–õ–¨–¢–ê–¢ (–∫–∞–∫ –≤ –∑–∞–¥–∞–Ω–∏–∏):")
        for num in reversed_numbers:
            print(num)
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        print(f"\n–°–¢–ê–¢–ò–°–¢–ò–ö–ê:")
        print(f"   –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ —Å—Ç–∞–ª–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º: {numbers[0]} ‚Üí –ø–æ–∑–∏—Ü–∏—è {N}")
        print(f"   –ü–æ—Å–ª–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ —Å—Ç–∞–ª–æ –ø–µ—Ä–≤—ã–º: {numbers[-1]} ‚Üí –ø–æ–∑–∏—Ü–∏—è 1")
        print(f"   –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {sum(numbers)/len(numbers):.2f}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–∞–ª–∏–Ω–¥—Ä–æ–º
        if numbers == reversed_numbers:
            print(f"   –ú–∞—Å—Å–∏–≤ —è–≤–ª—è–µ—Ç—Å—è –ø–∞–ª–∏–Ω–¥—Ä–æ–º–æ–º!")
        
        print("=" * 50)
        
        input("–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
        return reversed_numbers
        
    except ValueError:
        print("–û—à–∏–±–∫–∞: –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ!")
        input("–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")

if __name__ == "__main__":
    main()
